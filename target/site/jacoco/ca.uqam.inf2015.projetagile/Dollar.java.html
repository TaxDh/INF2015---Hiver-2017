<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Dollar.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">ProjetAgile</a> &gt; <a href="index.source.html" class="el_package">ca.uqam.inf2015.projetagile</a> &gt; <span class="el_source">Dollar.java</span></div><h1>Dollar.java</h1><pre class="source lang-java linenums">/*
 * Objet Dollar pour faire les calculs de montant
 */
package ca.uqam.inf2015.projetagile;

public class Dollar {    

    static Object convertirDoubleEnInt(String string) {
<span class="nc" id="L9">        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.</span>
    }
    
    private int montant;

<span class="nc" id="L14">    public Dollar(){</span>
<span class="nc" id="L15">        this.montant = 0;</span>
<span class="nc" id="L16">    }</span>
    
<span class="fc" id="L18">    public Dollar(int montantInt){</span>
<span class="fc" id="L19">        this.montant = montantInt;</span>
<span class="fc" id="L20">    }</span>
    
<span class="nc" id="L22">    public Dollar(double montantDbl){</span>
<span class="nc" id="L23">        this.montant = convertirDoubleEnInt(montantDbl);</span>
<span class="nc" id="L24">    }</span>
    
<span class="nc" id="L26">    public Dollar (String montantStr){</span>
<span class="nc" id="L27">        this.montant = convertirStringDollarEnInt(montantStr);</span>
<span class="nc" id="L28">    }</span>
    
    public void additionDollar (Dollar dollar){
<span class="fc" id="L31">        this.montant += dollar.getMontant();</span>
<span class="fc" id="L32">    }</span>
    
    public void soustractionDollar(Dollar dollar){
<span class="fc" id="L35">        this.montant -= dollar.getMontant();</span>
<span class="fc" id="L36">    }</span>
    
    public Dollar calculerRemboursement(double pourcentage){
<span class="fc" id="L39">        double pourcentageRemboursement = this.montant * pourcentage;</span>
<span class="fc" id="L40">        Dollar remboursementDollar = new Dollar((int)pourcentageRemboursement);</span>
<span class="fc" id="L41">        return remboursementDollar;</span>
    }
    
    public static int convertirStringDollarEnInt(String strMontant){
        double dblMontant;
        int montant;
        
<span class="fc" id="L48">        dblMontant = convertirStringDollarEnDouble(strMontant);</span>
<span class="fc" id="L49">        montant = convertirDoubleEnInt(dblMontant);</span>
        
<span class="fc" id="L51">        return montant;</span>
    }
    
    public static String convertirIntEnStringDollar(int intMontant){
        String montant;
<span class="fc" id="L56">        double dblMontant = convertirIntEnDouble(intMontant);</span>
        
<span class="fc" id="L58">        montant = convertirDoubleEnStringDollar(dblMontant);</span>
        
<span class="fc" id="L60">        return montant;</span>
    }
    
    public String convertirEnStringDollar(){
        String montant;
<span class="fc" id="L65">        double dblMontant = convertirIntEnDouble(this.montant);</span>
        
<span class="fc" id="L67">        montant = convertirDoubleEnStringDollar(dblMontant);</span>
        
<span class="fc" id="L69">        return montant;</span>
    }
 
    public static int convertirDoubleEnInt(double dblMontant){
        int montant;
        
<span class="fc" id="L75">        montant = (int) Math.round(dblMontant * 100);</span>
                
<span class="fc" id="L77">        return montant;</span>
    }
    
    public static double convertirIntEnDouble(int intMontant){
        double montant;
        double reste;
        
<span class="fc" id="L84">        montant = intMontant/100;</span>
<span class="fc" id="L85">        reste = (double) intMontant % 100;</span>
<span class="fc" id="L86">        montant += reste / 100;</span>
        
<span class="fc" id="L88">        return montant;</span>
    }    

    public static double convertirStringDollarEnDouble(String strMontant) {
        double montant;
<span class="fc" id="L93">        String stringSansDollar = strMontant.replace(&quot;$&quot;, &quot;&quot;);</span>
<span class="fc bfc" id="L94" title="All 2 branches covered.">        if (contientVirgule(stringSansDollar)) {</span>
<span class="fc" id="L95">            stringSansDollar = stringSansDollar.replace(&quot;,&quot;, &quot;.&quot;);</span>
        }
<span class="fc" id="L97">        montant = Double.parseDouble(stringSansDollar);</span>
<span class="fc" id="L98">        return montant;</span>
    }

    public static boolean contientVirgule(String montant) {
<span class="fc" id="L102">        boolean reponse = false;</span>
<span class="fc bfc" id="L103" title="All 2 branches covered.">        for (int i = 0; i &lt; montant.length(); i++) {</span>
<span class="fc bfc" id="L104" title="All 2 branches covered.">            if (montant.charAt(i) == ',') {</span>
<span class="fc" id="L105">                reponse = true;</span>
            }
        }
<span class="fc" id="L108">        return reponse;</span>
    }

    public static String convertirDoubleEnStringDollar(double dblMontant) {
        String montant;
<span class="fc" id="L113">        montant = String.format(&quot;%.2f&quot;, dblMontant); </span>
<span class="fc" id="L114">        montant = montant + &quot;$&quot;;</span>
<span class="fc" id="L115">        montant = montant.replace(&quot;,&quot;, &quot;.&quot;);</span>
<span class="fc" id="L116">        return montant;</span>
    }
    
     public int getMontant() {
<span class="fc" id="L120">        return montant;</span>
    }

    public void setMontant(int montant) {
<span class="fc" id="L124">        this.montant = montant;</span>
<span class="fc" id="L125">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.0.201403182114</span></div></body></html>